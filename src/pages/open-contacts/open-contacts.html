<!--
  Generated template for the OpenContactsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Solicitações de Contato</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list class='contacts' *ngIf="openRequests.length > 0">
    <ion-item margin-bottom *ngFor="let request of openRequests">
      <h2>
        <span left>{{request.name}}</span>
      </h2>
      <div class="contact-info">
        <small left>{{request.phone_number}}</small>
        <div *ngIf='request.aceito == undefined'>
          <button ion-button right clear color='danger' (click)='acceptRequest(request)'>ACEITAR</button>
          <button ion-button right clear color='danger' (click)='refuseRequest(request)'>REJEITAR</button>
        </div>
        <div *ngIf='request.aceito'>
          <span text-wrap>Você foi adicionado à lista de contatos de {{request.name}}</span>
        </div>
        <div *ngIf='!request.aceito && request.aceito != undefined'>
          <span>O contato foi recusado.</span>
        </div>
      </div>
    </ion-item>
  </ion-list>
  <ion-list class='contacts' *ngIf="openRequests.length == 0">
    <ion-item margin-bottom>
      <h2>Não há solicitações...</h2>
      <p text-wrap>Clique no botão abaixo para convidar amigos do Facebook!</p>
    </ion-item>
  </ion-list>
  <button ion-button clear (click)='inviteFacebookFriends()'>
    <ion-icon name="facebook" margin-right color='primary' style="font-size: 2em"></ion-icon>
    Convidar do Facebook
  </button>
</ion-content>
